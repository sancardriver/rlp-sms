function logText(e,t){t?console.error(e):console.log(e);const r=document.createElement("p");t&&r.setAttribute("class","error"),document.querySelector("#output").appendChild(r),r.appendChild(document.createTextNode(e))}function logError(e){logText(e,!0)}function persistFunc(e){localStorage.setItem(e.id,e.value)}function shareFunction(e){e||(document.querySelector("#fnShareButton").style.display="none",document.querySelector("#fnUnavailableButton").style.display="block")}function GetAge(e){var t=new Date,r=t.getFullYear()-e.getFullYear(),o=t.getMonth()-e.getMonth();return(o<0||0===o&&t.getDate()<e.getDate())&&r--,r}async function webShare(){const e=document.querySelector("#form-input-rm"),t=document.querySelector("#form-select-zlb"),r=document.querySelector("#form-input-dia"),o=document.querySelector("#form-select-sex"),n=document.querySelector("#form-input-age"),u=document.querySelector("#form-select-iso"),c=document.querySelector("#form-input-kg"),i=document.querySelector("#form-select-mon"),l=document.querySelector("#form-input-ank"),a=document.querySelector("#form-input-son"),d="RM: "+e.value+"\nZLB: "+t.value+"\nDia: "+r.value+"\nSex: "+o.value+"\nAge: "+n.value+"\nIso: "+u.value+"\nKg: "+c.value+"\nMon: "+i.value+"\nAnk: "+l.value+" Uhr\n"+a.value;try{await navigator.share({files:undefined,title:undefined,text:d,url:undefined}),logText("Successfully sent share")}catch(e){logError("Error sharing: "+e)}}function onLoad(){void 0===navigator.share&&(shareFunction(!1),"http:"===window.location.protocol?window.location.replace(window.location.href.replace(/^http:/,"https:")):logError("Error: You need to use a browser that supports this draft proposal."))}window.addEventListener("load",onLoad),document.querySelectorAll("input").forEach((e=>{e.value=localStorage.getItem(e.id),e.addEventListener("change",persistFunc)}));const birth=document.querySelector("#form-input-birth");birth.addEventListener("change",(function(){var e=new Date,t=new Date(birth.value),r=e.getFullYear()-t.getFullYear(),o=e.getMonth()-t.getMonth();(o<0||0===o&&e.getDate()<t.getDate())&&r--,document.querySelector("#form-input-age").value=r}));const birthswitch=document.querySelector("#birthswitch");birthswitch.addEventListener("change",(function(){1==birthswitch.checked?(document.querySelector("#div-form-input-age").style.display="none",document.querySelector("#div-form-input-birth").style.display="flex",document.querySelector("#form-input-birth").required=!0):(document.querySelector("#div-form-input-age").style.display="flex",document.querySelector("#div-form-input-birth").style.display="none",document.querySelector("#form-input-birth").required=!1)}));const formInputSwitchKg=document.querySelector("#form-input-switch-kg");formInputSwitchKg.addEventListener("change",(function(){1==formInputSwitchKg.checked?(document.querySelector("#div-form-input-kg").style.display="flex",document.querySelector("#form-input-kg").required=!0):(document.querySelector("#div-form-input-kg").style.display="none",document.querySelector("#form-input-kg").required=!1)})),(()=>{"use strict";const e=document.querySelectorAll(".needs-validation");Array.from(e).forEach((e=>{e.addEventListener("submit",(t=>{e.checkValidity()?webShare():(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")}),!1)}))})(),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/js/sw.js").then((e=>{console.log(`Service Worker registered! Scope: ${e.scope}`)}),(e=>{console.error(`Service Worker registration failed: ${e}`)}))}));